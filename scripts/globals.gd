extends Node


enum movement { 
	UP,
	DOWN,
	RIGHT, 
	LEFT, 
	HIDE, 
	NULL
	}

var starting_pos: Vector2i = Vector2i(0, 0)

var time_between_moves: float = 1.5
var valid_pos: Array[Vector2i] = [Vector2i(0, 0), Vector2i(0, 1), Vector2i(1, 1), Vector2i(2, 1), Vector2i(2, 2), Vector2i(3, 2), Vector2i(4, 2), Vector2i(5, 2), Vector2i(5, 1), Vector2i(5, 0), Vector2i(4, 0), Vector2i(3, 0), Vector2i(3, 1), Vector2i(2, 0), Vector2i(1, 0), Vector2i(1, -1), Vector2i(2, -1), Vector2i(3, -1), Vector2i(4, -1), Vector2i(5, -1), Vector2i(5, -2), Vector2i(5, -3), Vector2i(5, -4), Vector2i(5, -5), Vector2i(4, -4), Vector2i(4, -3), Vector2i(4, -2), Vector2i(3, -2), Vector2i(3, -3), Vector2i(3, -4), Vector2i(2, -4), Vector2i(2, -3), Vector2i(1, -3), Vector2i(1, -2), Vector2i(1, -4), Vector2i(1, -5), Vector2i(2, -5), Vector2i(2, -6), Vector2i(2, -7), Vector2i(2, -8), Vector2i(1, -8), Vector2i(1, -7), Vector2i(1, -6), Vector2i(1, -9), Vector2i(1, -10), Vector2i(1, -11), Vector2i(1, -12), Vector2i(1, -13), Vector2i(1, -14), Vector2i(1, -15), Vector2i(1, -16), Vector2i(1, -17), Vector2i(1, -18), Vector2i(2, -18), Vector2i(3, -18), Vector2i(3, -19), Vector2i(3, -20), Vector2i(4, -20), Vector2i(5, -20), Vector2i(6, -20), Vector2i(7, -20), Vector2i(7, -21), Vector2i(7, -22), Vector2i(7, -23), Vector2i(6, -23), Vector2i(5, -23), Vector2i(5, -24), Vector2i(5, -25), Vector2i(4, -25), Vector2i(3, -25), Vector2i(2, -25), Vector2i(2, -24), Vector2i(2, -23), Vector2i(1, -23), Vector2i(1, -24), Vector2i(1, -25), Vector2i(1, -26), Vector2i(2, -26), Vector2i(3, -26), Vector2i(4, -26), Vector2i(5, -26), Vector2i(6, -26), Vector2i(6, -25), Vector2i(6, -24), Vector2i(7, -24), Vector2i(8, -24), Vector2i(9, -24), Vector2i(10, -24), Vector2i(11, -24), Vector2i(11, -25), Vector2i(11, -26), Vector2i(12, -26), Vector2i(12, -25), Vector2i(12, -24), Vector2i(13, -24), Vector2i(14, -24), Vector2i(15, -24), Vector2i(16, -24), Vector2i(17, -24), Vector2i(17, -25), Vector2i(17, -26), Vector2i(18, -26), Vector2i(18, -25), Vector2i(19, -25), Vector2i(19, -24), Vector2i(18, -24), Vector2i(18, -23), Vector2i(19, -23), Vector2i(18, -22), Vector2i(18, -21), Vector2i(18, -20), Vector2i(18, -19), Vector2i(19, -19), Vector2i(20, -19), Vector2i(21, -19), Vector2i(21, -20), Vector2i(22, -20), Vector2i(22, -21), Vector2i(22, -22), Vector2i(21, -22), Vector2i(21, -23), Vector2i(21, -24), Vector2i(21, -25), Vector2i(21, -26), Vector2i(22, -25), Vector2i(23, -25), Vector2i(23, -26), Vector2i(23, -24), Vector2i(22, -24), Vector2i(22, -23), Vector2i(23, -23), Vector2i(23, -22), Vector2i(23, -20), Vector2i(23, -19), Vector2i(22, -19), Vector2i(22, -18), Vector2i(23, -18), Vector2i(23, -17), Vector2i(22, -17), Vector2i(22, -16), Vector2i(22, -15), Vector2i(23, -15), Vector2i(23, -14), Vector2i(23, -13), Vector2i(23, -12), Vector2i(23, -11), Vector2i(22, -11), Vector2i(21, -11), Vector2i(21, -12), Vector2i(21, -13), Vector2i(20, -13), Vector2i(20, -12), Vector2i(20, -11), Vector2i(20, -10), Vector2i(21, -10), Vector2i(22, -10), Vector2i(23, -10), Vector2i(23, -9), Vector2i(22, -9), Vector2i(21, -9), Vector2i(21, -8), Vector2i(21, -7), Vector2i(21, -6), Vector2i(22, -6), Vector2i(22, -5), Vector2i(22, -4), Vector2i(22, -3), Vector2i(23, -3), Vector2i(23, -2), Vector2i(22, -2), Vector2i(22, -1), Vector2i(23, -1), Vector2i(23, 0), Vector2i(23, 1), Vector2i(22, 1), Vector2i(22, 0), Vector2i(21, 0), Vector2i(21, 1), Vector2i(20, 1), Vector2i(20, 0), Vector2i(20, -1), Vector2i(19, 0), Vector2i(19, 1), Vector2i(18, 1), Vector2i(18, 0), Vector2i(18, -1), Vector2i(17, 0), Vector2i(17, 1), Vector2i(16, 1), Vector2i(16, 0), Vector2i(16, -1), Vector2i(15, 0), Vector2i(15, 1), Vector2i(14, 1), Vector2i(14, 0), Vector2i(14, -1), Vector2i(14, -2), Vector2i(15, -2), Vector2i(16, -2), Vector2i(17, -2), Vector2i(18, -2), Vector2i(19, -2), Vector2i(20, -2), Vector2i(21, -2), Vector2i(21, -3), Vector2i(20, -3), Vector2i(19, -3), Vector2i(18, -3), Vector2i(17, -3), Vector2i(16, -3), Vector2i(16, -4), Vector2i(16, -5), Vector2i(16, -6), Vector2i(17, -6), Vector2i(18, -6), Vector2i(19, -6), Vector2i(20, -6), Vector2i(19, -7), Vector2i(18, -7), Vector2i(18, -5), Vector2i(19, -5), Vector2i(15, -3), Vector2i(14, -3), Vector2i(13, -3), Vector2i(13, -2), Vector2i(13, -1), Vector2i(13, 0), Vector2i(13, 1), Vector2i(12, 0), Vector2i(11, 0), Vector2i(11, 1), Vector2i(11, 2), Vector2i(10, 2), Vector2i(9, 2), Vector2i(9, 1), Vector2i(9, 0), Vector2i(10, 0), Vector2i(9, -1), Vector2i(9, -2), Vector2i(10, -2), Vector2i(10, -3), Vector2i(10, -4), Vector2i(9, -4), Vector2i(9, -3), Vector2i(8, -3), Vector2i(8, -4), Vector2i(7, -4), Vector2i(7, -3), Vector2i(8, -2), Vector2i(8, 2), Vector2i(7, 2), Vector2i(7, 1), Vector2i(7, 0), Vector2i(6, 0), Vector2i(3, -8), Vector2i(4, -8), Vector2i(5, -8), Vector2i(6, -8), Vector2i(6, -7), Vector2i(7, -7), Vector2i(7, -8), Vector2i(8, -8), Vector2i(8, -7), Vector2i(9, -7), Vector2i(9, -8), Vector2i(10, -8), Vector2i(11, -8), Vector2i(12, -8), Vector2i(12, -7), Vector2i(12, -6), Vector2i(13, -6), Vector2i(14, -6), Vector2i(14, -5), Vector2i(14, -4), Vector2i(14, -7), Vector2i(14, -8), Vector2i(13, -8), Vector2i(15, -8), Vector2i(15, -9), Vector2i(14, -9), Vector2i(14, -10), Vector2i(15, -10), Vector2i(15, -11), Vector2i(14, -11), Vector2i(14, -12), Vector2i(15, -12), Vector2i(15, -13), Vector2i(14, -13), Vector2i(14, -14), Vector2i(15, -14), Vector2i(15, -15), Vector2i(14, -15), Vector2i(13, -15), Vector2i(13, -14), Vector2i(13, -13), Vector2i(13, -12), Vector2i(13, -11), Vector2i(13, -10), Vector2i(13, -9), Vector2i(12, -9), Vector2i(12, -10), Vector2i(12, -11), Vector2i(12, -12), Vector2i(12, -13), Vector2i(12, -14), Vector2i(12, -15), Vector2i(11, -15), Vector2i(11, -14), Vector2i(11, -13), Vector2i(11, -12), Vector2i(11, -11), Vector2i(11, -10), Vector2i(11, -9), Vector2i(10, -9), Vector2i(10, -10), Vector2i(10, -11), Vector2i(10, -12), Vector2i(10, -13), Vector2i(10, -14), Vector2i(10, -15), Vector2i(10, -16), Vector2i(10, -17), Vector2i(10, -18), Vector2i(11, -18), Vector2i(12, -18), Vector2i(12, -19), Vector2i(13, -19), Vector2i(14, -19), Vector2i(15, -19), Vector2i(15, -18), Vector2i(15, -17), Vector2i(14, -17), Vector2i(13, -17), Vector2i(12, -17), Vector2i(10, -19), Vector2i(9, -19), Vector2i(9, -18), Vector2i(9, -17), Vector2i(9, -15), Vector2i(9, -14), Vector2i(9, -13), Vector2i(9, -12), Vector2i(9, -11), Vector2i(9, -10), Vector2i(9, -9), Vector2i(8, -9), Vector2i(8, -10), Vector2i(8, -11), Vector2i(8, -12), Vector2i(8, -13), Vector2i(8, -14), Vector2i(8, -15), Vector2i(7, -15), Vector2i(7, -14), Vector2i(7, -13), Vector2i(7, -12), Vector2i(7, -11), Vector2i(7, -10), Vector2i(7, -9), Vector2i(6, -9), Vector2i(6, -10), Vector2i(6, -11), Vector2i(6, -12), Vector2i(6, -13), Vector2i(6, -14), Vector2i(6, -15), Vector2i(5, -15), Vector2i(4, -15), Vector2i(4, -14), Vector2i(4, -13), Vector2i(5, -13), Vector2i(5, -12), Vector2i(4, -12), Vector2i(4, -11), Vector2i(5, -11), Vector2i(5, -10), Vector2i(5, -9), Vector2i(4, -9), Vector2i(4, -10), Vector2i(3, -10), Vector2i(3, -9), Vector2i(2, -9), Vector2i(2, -10), Vector2i(2, -11), Vector2i(2, -12), Vector2i(2, -13), Vector2i(2, -14), Vector2i(2, -15), Vector2i(2, -16), Vector2i(2, -17), Vector2i(3, -17), Vector2i(4, -17), Vector2i(4, -18), Vector2i(4, -19), Vector2i(5, -19), Vector2i(6, -19), Vector2i(7, -19), Vector2i(7, -18), Vector2i(7, -17), Vector2i(8, -17), Vector2i(8, -18), Vector2i(8, -19), Vector2i(8, -20), Vector2i(8, -21), Vector2i(8, -22), Vector2i(8, -23), Vector2i(9, -23), Vector2i(10, -23), Vector2i(11, -23), Vector2i(12, -23), Vector2i(13, -23), Vector2i(13, -22), Vector2i(13, -21), Vector2i(14, -21), Vector2i(14, -22), Vector2i(14, -23), Vector2i(15, -23), Vector2i(16, -23), Vector2i(17, -23), Vector2i(17, -22), Vector2i(17, -21), Vector2i(17, -20), Vector2i(17, -19), Vector2i(17, -18), Vector2i(18, -18), Vector2i(19, -18), Vector2i(20, -18), Vector2i(21, -18), Vector2i(21, -17), Vector2i(20, -17), Vector2i(20, -16), Vector2i(20, -15), Vector2i(21, -15), Vector2i(19, -16), Vector2i(19, -17), Vector2i(18, -17), Vector2i(17, -17), Vector2i(17, -16), Vector2i(18, -16), Vector2i(18, -15), Vector2i(17, -15), Vector2i(17, -14), Vector2i(18, -14), Vector2i(18, -13), Vector2i(17, -13), Vector2i(17, -12), Vector2i(18, -12), Vector2i(18, -11), Vector2i(19, -11), Vector2i(17, -11), Vector2i(17, -10), Vector2i(17, -9), Vector2i(18, -9), Vector2i(19, -9), Vector2i(20, -9)]
# raw valid position tubele [(0, 0), (0, 1), (1, 1), (2, 1), (2, 2), (3, 2), (4, 2), (5, 2), (5, 1), (5, 0), (4, 0), (3, 0), (3, 1), (2, 0), (1, 0), (1, -1), (2, -1), (3, -1), (4, -1), (5, -1), (5, -2), (5, -3), (5, -4), (5, -5), (4, -4), (4, -3), (4, -2), (3, -2), (3, -3), (3, -4), (2, -4), (2, -3), (1, -3), (1, -2), (1, -4), (1, -5), (2, -5), (2, -6), (2, -7), (2, -8), (1, -8), (1, -7), (1, -6), (1, -9), (1, -10), (1, -11), (1, -12), (1, -13), (1, -14), (1, -15), (1, -16), (1, -17), (1, -18), (2, -18), (3, -18), (3, -19), (3, -20), (4, -20), (5, -20), (6, -20), (7, -20), (7, -21), (7, -22), (7, -23), (6, -23), (5, -23), (5, -24), (5, -25), (4, -25), (3, -25), (2, -25), (2, -24), (2, -23), (1, -23), (1, -24), (1, -25), (1, -26), (2, -26), (3, -26), (4, -26), (5, -26), (6, -26), (6, -25), (6, -24), (7, -24), (8, -24), (9, -24), (10, -24), (11, -24), (11, -25), (11, -26), (12, -26), (12, -25), (12, -24), (13, -24), (14, -24), (15, -24), (16, -24), (17, -24), (17, -25), (17, -26), (18, -26), (18, -25), (19, -25), (19, -24), (18, -24), (18, -23), (19, -23), (18, -22), (18, -21), (18, -20), (18, -19), (19, -19), (20, -19), (21, -19), (21, -20), (22, -20), (22, -21), (22, -22), (21, -22), (21, -23), (21, -24), (21, -25), (21, -26), (22, -25), (23, -25), (23, -26), (23, -24), (22, -24), (22, -23), (23, -23), (23, -22), (23, -20), (23, -19), (22, -19), (22, -18), (23, -18), (23, -17), (22, -17), (22, -16), (22, -15), (23, -15), (23, -14), (23, -13), (23, -12), (23, -11), (22, -11), (21, -11), (21, -12), (21, -13), (20, -13), (20, -12), (20, -11), (20, -10), (21, -10), (22, -10), (23, -10), (23, -9), (22, -9), (21, -9), (21, -8), (21, -7), (21, -6), (22, -6), (22, -5), (22, -4), (22, -3), (23, -3), (23, -2), (22, -2), (22, -1), (23, -1), (23, 0), (23, 1), (22, 1), (22, 0), (21, 0), (21, 1), (20, 1), (20, 0), (20, -1), (19, 0), (19, 1), (18, 1), (18, 0), (18, -1), (17, 0), (17, 1), (16, 1), (16, 0), (16, -1), (15, 0), (15, 1), (14, 1), (14, 0), (14, -1), (14, -2), (15, -2), (16, -2), (17, -2), (18, -2), (19, -2), (20, -2), (21, -2), (21, -3), (20, -3), (19, -3), (18, -3), (17, -3), (16, -3), (16, -4), (16, -5), (16, -6), (17, -6), (18, -6), (19, -6), (20, -6), (19, -7), (18, -7), (18, -5), (19, -5), (15, -3), (14, -3), (13, -3), (13, -2), (13, -1), (13, 0), (13, 1), (12, 0), (11, 0), (11, 1), (11, 2), (10, 2), (9, 2), (9, 1), (9, 0), (10, 0), (9, -1), (9, -2), (10, -2), (10, -3), (10, -4), (9, -4), (9, -3), (8, -3), (8, -4), (7, -4), (7, -3), (8, -2), (8, 2), (7, 2), (7, 1), (7, 0), (6, 0), (3, -8), (4, -8), (5, -8), (6, -8), (6, -7), (7, -7), (7, -8), (8, -8), (8, -7), (9, -7), (9, -8), (10, -8), (11, -8), (12, -8), (12, -7), (12, -6), (13, -6), (14, -6), (14, -5), (14, -4), (14, -7), (14, -8), (13, -8), (15, -8), (15, -9), (14, -9), (14, -10), (15, -10), (15, -11), (14, -11), (14, -12), (15, -12), (15, -13), (14, -13), (14, -14), (15, -14), (15, -15), (14, -15), (13, -15), (13, -14), (13, -13), (13, -12), (13, -11), (13, -10), (13, -9), (12, -9), (12, -10), (12, -11), (12, -12), (12, -13), (12, -14), (12, -15), (11, -15), (11, -14), (11, -13), (11, -12), (11, -11), (11, -10), (11, -9), (10, -9), (10, -10), (10, -11), (10, -12), (10, -13), (10, -14), (10, -15), (10, -16), (10, -17), (10, -18), (11, -18), (12, -18), (12, -19), (13, -19), (14, -19), (15, -19), (15, -18), (15, -17), (14, -17), (13, -17), (12, -17), (10, -19), (9, -19), (9, -18), (9, -17), (9, -15), (9, -14), (9, -13), (9, -12), (9, -11), (9, -10), (9, -9), (8, -9), (8, -10), (8, -11), (8, -12), (8, -13), (8, -14), (8, -15), (7, -15), (7, -14), (7, -13), (7, -12), (7, -11), (7, -10), (7, -9), (6, -9), (6, -10), (6, -11), (6, -12), (6, -13), (6, -14), (6, -15), (5, -15), (4, -15), (4, -14), (4, -13), (5, -13), (5, -12), (4, -12), (4, -11), (5, -11), (5, -10), (5, -9), (4, -9), (4, -10), (3, -10), (3, -9), (2, -9), (2, -10), (2, -11), (2, -12), (2, -13), (2, -14), (2, -15), (2, -16), (2, -17), (3, -17), (4, -17), (4, -18), (4, -19), (5, -19), (6, -19), (7, -19), (7, -18), (7, -17), (8, -17), (8, -18), (8, -19), (8, -20), (8, -21), (8, -22), (8, -23), (9, -23), (10, -23), (11, -23), (12, -23), (13, -23), (13, -22), (13, -21), (14, -21), (14, -22), (14, -23), (15, -23), (16, -23), (17, -23), (17, -22), (17, -21), (17, -20), (17, -19), (17, -18), (18, -18), (19, -18), (20, -18), (21, -18), (21, -17), (20, -17), (20, -16), (20, -15), (21, -15), (19, -16), (19, -17), (18, -17), (17, -17), (17, -16), (18, -16), (18, -15), (17, -15), (17, -14), (18, -14), (18, -13), (17, -13), (17, -12), (18, -12), (18, -11), (19, -11), (17, -11), (17, -10), (17, -9), (18, -9), (19, -9), (20, -9)]
var sequence_to_visit_all_pos: Array[int] = [2, 0, 0, 2, 0, 0, 0, 3, 3, 1, 1, 2, 3, 1, 1, 3, 0, 0, 0, 0, 3, 3, 3, 3, 2, 1, 2, 2, 1, 3, 3, 1, 2, 1, 2, 3, 3, 3, 0, 3, 3, 3, 1, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 0, 0, 0, 0, 3, 3, 3, 1, 1, 3, 3, 1, 1, 1, 2, 2, 1, 3, 3, 3, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 3, 3, 0, 2, 2, 0, 0, 0, 0, 0, 3, 3, 0, 2, 0, 2, 1, 2, 0, 1, 2, 2, 2, 2, 0, 0, 0, 3, 0, 3, 3, 1, 3, 3, 3, 3, 2, 0, 0, 3, 2, 2, 1, 2, 0, 2, 1, 2, 2, 0, 2, 1, 2, 0, 2, 1, 2, 2, 0, 2, 2, 2, 2, 1, 1, 3, 3, 1, 2, 2, 2, 0, 0, 0, 2, 1, 1, 2, 2, 2, 0, 2, 2, 2, 0, 2, 1, 2, 0, 2, 2, 1, 3, 1, 2, 1, 3, 3, 2, 1, 2, 1, 3, 3, 2, 1, 2, 1, 3, 3, 2, 1, 2, 1, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 1, 1, 1, 1, 1, 3, 3, 3, 0, 0, 0, 0, 1, 3, 1, 2, 2, 0, 3, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 2, 3, 1, 1, 2, 2, 1, 1, 3, 3, 0, 1, 3, 3, 0, 3, 3, 1, 2, 1, 3, 1, 2, 0, 2, 0, 2, 2, 2, 2, 1, 1, 3, 3, 1, 1, 3, 1, 3, 1, 3, 3, 1, 3, 3, 3, 3, 0, 0, 0, 0, 2, 0, 3, 0, 2, 0, 3, 0, 0, 0, 2, 2, 0, 0, 2, 2, 3, 3, 3, 3, 1, 0, 0, 3, 1, 3, 0, 3, 1, 3, 0, 3, 1, 3, 0, 3, 1, 1, 2, 2, 2, 2, 2, 2, 1, 3, 3, 3, 3, 3, 3, 1, 2, 2, 2, 2, 2, 2, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 0, 0, 0, 2, 2, 1, 1, 1, 3, 1, 1, 3, 1, 2, 2, 0, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 3, 3, 3, 3, 3, 3, 1, 2, 2, 2, 2, 2, 2, 1, 3, 3, 3, 3, 3, 3, 1, 1, 2, 2, 0, 2, 1, 2, 0, 2, 2, 1, 3, 1, 2, 1, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 0, 0, 0, 2, 2, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 2, 2, 0, 3, 3, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 1, 2, 2, 0, 1, 3, 1, 3, 1, 1, 2, 0, 2, 1, 2, 0, 2, 1, 2, 0, 2, 0, 1, 1, 2, 2, 0, 0, 0, 0]
